.MODEL SMALL
.STACK 100H

.DATA
T1 DW ?

.CODE

PRINTLN PROC 
    POP BX  ; IP POPPED
    POP AX  ; NUMBER POPPED
    PUSH BX ; IP PUSHED
    CMP AX,0
    JGE POS
    NEG AX
    MOV BX,AX
    MOV AH,2
    MOV DX,'-'
    INT 21H
    MOV AX,BX
POS:
    XOR CX,CX
    MOV BX,10
    MOV DX,0
WHILE_LOOP:
    MOV DX,0
    DIV BX
    INC CX
    PUSH DX
    CMP AX,0
    JE END_WHILE
    JMP WHILE_LOOP
END_WHILE:
    MOV AH,2
TOP:
    POP DX
    ADD DX,'0'
    INT 21H
    LOOP TOP
    MOV DX,0AH
    INT 21H
    MOV DX,0DH
    INT 21H
    RET
PRINTLN ENDP


PRINTCHAR PROC
    POP BX  ; IP POPPED
    POP AX  ; NUMBER POPPED
    PUSH BX ; IP PUSHED
    MOV DX,AX
    MOV AH,2
    INT 21H
    RET
PRINTCHAR ENDP

main PROC

MOV AX,@DATA
MOV DS,AX
PUSH AX
PUSH AX
PUSH AX
PUSH AX
PUSH AX
PUSH AX
MOV AX,65
PUSH AX
POP AX
MOV BP,SP
MOV [BP+8],AX
PUSH AX
POP AX
MOV AX,66
PUSH AX
POP AX
MOV BP,SP
MOV [BP+6],AX
PUSH AX
POP AX
MOV AX,67
PUSH AX
POP AX
MOV BP,SP
MOV [BP+4],AX
PUSH AX
POP AX
MOV AX,68
PUSH AX
POP AX
MOV BP,SP
MOV [BP+2],AX
PUSH AX
POP AX
MOV AX,70
PUSH AX
POP AX
MOV BP,SP
MOV [BP+0],AX
PUSH AX
POP AX
MOV AX,65
PUSH AX
POP AX 
 NEG AX 
 PUSH AX
POP AX
MOV BP,SP
MOV [BP+10],AX
PUSH AX
POP AX
MOV BP,SP
MOV AX,[BP+10]
PUSH AX
MOV AX,80
PUSH AX
POP AX
POP BX
CMP BX,AX
JL L2
PUSH 1
JMP L1
L2: 
PUSH 0
L1: 
POP AX
CMP AX,0
JE L3

MOV BP,SP
MOV AX,[BP+8]
PUSH AX
POP AX
MOV T1,AX
PUSH T1
POP AX
JMP L4
L3:

MOV BP,SP
MOV AX,[BP+10]
PUSH AX
MOV AX,70
PUSH AX
POP AX
POP BX
CMP BX,AX
JL L6
PUSH 1
JMP L5
L6: 
PUSH 0
L5: 
POP AX
CMP AX,0
JE L7

MOV BP,SP
MOV AX,[BP+6]
PUSH AX
POP AX
MOV T1,AX
PUSH T1
POP AX
JMP L8
L7:

MOV BP,SP
MOV AX,[BP+10]
PUSH AX
MOV AX,60
PUSH AX
POP AX
POP BX
CMP BX,AX
JL L10
PUSH 1
JMP L9
L10: 
PUSH 0
L9: 
POP AX
CMP AX,0
JE L11

MOV BP,SP
MOV AX,[BP+4]
PUSH AX
POP AX
MOV T1,AX
PUSH T1
POP AX
JMP L12
L11:

MOV BP,SP
MOV AX,[BP+10]
PUSH AX
MOV AX,40
PUSH AX
POP AX
POP BX
CMP BX,AX
JL L14
PUSH 1
JMP L13
L14: 
PUSH 0
L13: 
POP AX
CMP AX,0
JE L15

MOV BP,SP
MOV AX,[BP+2]
PUSH AX
POP AX
MOV T1,AX
PUSH T1
POP AX
JMP L16
L15:

MOV BP,SP
MOV AX,[BP+0]
PUSH AX
POP AX
MOV T1,AX
PUSH T1
POP AX
L16:

L12:

L8:

L4:

PUSH T1
CALL PRINTCHAR
POP AX
POP AX
POP AX
POP AX
POP AX
POP AX
MOV AX,4CH
INT 21H


main ENDP

END main

